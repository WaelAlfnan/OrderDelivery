{
	"info": {
		"_postman_id": "order-delivery-api-collection",
		"name": "OrderDelivery API Collection",
		"description": "Comprehensive Postman collection for OrderDelivery API endpoints including Authentication, File Upload, and Registration Steps",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "order-delivery-team"
	},
	"item": [
		{
			"name": "üîê Authentication",
			"description": "Authentication and user management endpoints",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"your_password\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Authenticates user and returns JWT token"
					},
					"response": []
				},
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/forgot-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"forgot-password"
							]
						},
						"description": "Initiates password reset process"
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"resetCode\": \"123456\",\n  \"newPassword\": \"new_password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"reset-password"
							]
						},
						"description": "Resets password with verification code"
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"profile"
							]
						},
						"description": "Gets current user profile (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"your_refresh_token_here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/refresh-token",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"refresh-token"
							]
						},
						"description": "Refreshes JWT token using refresh token"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìÅ File Upload",
			"description": "File upload and management endpoints",
			"item": [
				{
					"name": "Upload Photo",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "File",
									"type": "file",
									"src": []
								},
								{
									"key": "UserId",
									"value": "user123",
									"type": "text"
								},
								{
									"key": "PhotoType",
									"value": "profile",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/fileupload/upload-photo",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"fileupload",
								"upload-photo"
							]
						},
						"description": "Uploads a photo to S3 storage"
					},
					"response": []
				},
				{
					"name": "Upload Photo with Folder",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "File",
									"type": "file",
									"src": []
								},
								{
									"key": "UserId",
									"value": "user123",
									"type": "text"
								},
								{
									"key": "PhotoType",
									"value": "profile",
									"type": "text"
								},
								{
									"key": "FolderName",
									"value": "users/profile-photos",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/fileupload/upload-photo-with-folder",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"fileupload",
								"upload-photo-with-folder"
							]
						},
						"description": "Uploads a photo to S3 storage with custom folder structure"
					},
					"response": []
				},
				{
					"name": "Delete Photo",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/fileupload/delete-photo?fileUrl=https://s3.amazonaws.com/bucket/file.jpg",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"fileupload",
								"delete-photo"
							],
							"query": [
								{
									"key": "fileUrl",
									"value": "https://s3.amazonaws.com/bucket/file.jpg"
								}
							]
						},
						"description": "Deletes a photo from S3 storage"
					},
					"response": []
				},
				{
					"name": "Check Photo Exists",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/fileupload/check-photo-exists?fileUrl=https://s3.amazonaws.com/bucket/file.jpg",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"fileupload",
								"check-photo-exists"
							],
							"query": [
								{
									"key": "fileUrl",
									"value": "https://s3.amazonaws.com/bucket/file.jpg"
								}
							]
						},
						"description": "Checks if a photo exists in S3 storage"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìù Registration Steps",
			"description": "Multi-step user registration process endpoints",
			"item": [
				{
					"name": "Start Registration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/start-registration",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"start-registration"
							]
						},
						"description": "Starts the registration process by registering phone number"
					},
					"response": []
				},
				{
					"name": "Verify Phone",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"verificationCode\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/verify-phone",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"verify-phone"
							]
						},
						"description": "Verifies phone number with verification code"
					},
					"response": []
				},
				{
					"name": "Set Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"password\": \"secure_password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/set-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"set-password"
							]
						},
						"description": "Sets user password after phone verification"
					},
					"response": []
				},
				{
					"name": "Set Role",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"role\": \"Driver\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/set-role",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"set-role"
							]
						},
						"description": "Sets user role (Merchant or Driver)"
					},
					"response": []
				},
				{
					"name": "Set Basic Info",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "PhoneNumber",
									"value": "+1234567890",
									"type": "text"
								},
								{
									"key": "FirstName",
									"value": "John",
									"type": "text"
								},
								{
									"key": "LastName",
									"value": "Doe",
									"type": "text"
								},
								{
									"key": "Email",
									"value": "john.doe@example.com",
									"type": "text"
								},
								{
									"key": "DateOfBirth",
									"value": "1990-01-01",
									"type": "text"
								},
								{
									"key": "ProfilePhoto",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/set-basic-info",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"set-basic-info"
							]
						},
						"description": "Sets basic user information after role selection"
					},
					"response": []
				},
				{
					"name": "Set Merchant Info",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"businessName\": \"My Restaurant\",\n  \"businessType\": \"Restaurant\",\n  \"businessAddress\": \"123 Main St, City, State\",\n  \"businessPhone\": \"+1234567890\",\n  \"businessEmail\": \"business@example.com\",\n  \"taxId\": \"12-3456789\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/set-merchant-info",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"set-merchant-info"
							]
						},
						"description": "Sets merchant information"
					},
					"response": []
				},
				{
					"name": "Set Driver Info",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"drivingLicenseNumber\": \"DL123456789\",\n  \"drivingLicenseExpiry\": \"2025-12-31\",\n  \"vehicleInsurance\": \"INS123456789\",\n  \"vehicleRegistration\": \"REG123456789\",\n  \"backgroundCheck\": true,\n  \"criminalRecord\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/set-driver-info",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"set-driver-info"
							]
						},
						"description": "Sets driver information"
					},
					"response": []
				},
				{
					"name": "Set Vehicle Info",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "PhoneNumber",
									"value": "+1234567890",
									"type": "text"
								},
								{
									"key": "VehicleType",
									"value": "Car",
									"type": "text"
								},
								{
									"key": "Make",
									"value": "Toyota",
									"type": "text"
								},
								{
									"key": "Model",
									"value": "Camry",
									"type": "text"
								},
								{
									"key": "Year",
									"value": "2020",
									"type": "text"
								},
								{
									"key": "Color",
									"value": "White",
									"type": "text"
								},
								{
									"key": "LicensePlate",
									"value": "ABC123",
									"type": "text"
								},
								{
									"key": "VehiclePhoto",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/set-vehicle-info",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"set-vehicle-info"
							]
						},
						"description": "Sets vehicle information"
					},
					"response": []
				},
				{
					"name": "Set Residence Info",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"address\": \"456 Oak St\",\n  \"city\": \"City\",\n  \"state\": \"State\",\n  \"zipCode\": \"12345\",\n  \"country\": \"USA\",\n  \"residenceType\": \"Apartment\",\n  \"monthlyRent\": 1200,\n  \"landlordName\": \"John Smith\",\n  \"landlordPhone\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/set-residence-info",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"set-residence-info"
							]
						},
						"description": "Sets residence information"
					},
					"response": []
				},
				{
					"name": "Get Pending Registration",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/pending-registration/+1234567890",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"pending-registration",
								"+1234567890"
							]
						},
						"description": "Gets pending registration by phone number"
					},
					"response": []
				},
				{
					"name": "Complete Registration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/registrationsteps/complete-registration",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"registrationsteps",
								"complete-registration"
							]
						},
						"description": "Completes the registration process"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://localhost:7001",
			"type": "string",
			"description": "Base URL for the OrderDelivery API"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string",
			"description": "JWT authentication token (set after login)"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string",
			"description": "Refresh token for authentication"
		}
	]
}
